# 終業報告　9月14日（火）
## Jenkinsを使っての実践的なビルド
### 概要
モデルプロジェクトが置いてあるソースリポジトリ（git）にjenkinsを連携。モデルプロジェクトに対してJunitによるテストを自動化する  

ビルドツールにはMaven,カバレッジの測定としてJaCoCo、インスペクションにはCheckstyleとFindBugsを使用。

### 内容
実践入門書を使って実践的なビルドをして見ました。  

本書がJava仕様なこともあり、JDKを使ったモデルプロジェクトをビルドするという内容でした。  

本書に付属していたモデルプロジェクトの場合、インスペクションやカバレッジの測定をするプラグインをインストールしないと上手く動作しないようです。  

記載に従ってインストール...ただそのプラグインの配布が終了している。  
「あーーーやばいいいいい」  
その為残念ながら結果としては上手く動作しませんでした。  （本書が出版されたのが今年の1月、その段階ではもうプラグインの配布が終わってました...「え。。。」）  

こういったエラーを出会わない様に、できれば自分で用意したテストプロジェクトを使いたいです。  

テストプロジェクト作成に詳しい方どなたかいらっしゃいませんか？  
できれば教えていただきたい...!!

追記
解決できました。
![Imgur](https://i.imgur.com/ARK8RzW.png)  

![Imgur](https://i.imgur.com/rAO24RT.png)

## Jenkinsを使ってのJunitテスt集計
### 概要
Jenkinsで行ったテストを成果物としてxmlファイルにまとめます。  
git連携です。  
[テストプロジェクト](https://github.com/yuji-tsuboi/Jenkins_Practical_Guide_3rd_Edition)

### 内容
上記で行ったJunitテストの応用です。  
Junitテストを行った結果をxmlファイルにまとめます。  
最初にジョブの設定から始めていきます。  
だいぶ説明をはしょりましたが、先にJOBは作成済みです。  

![Imgur](https://i.imgur.com/SyMZxpc.png)  
<br>
<br>
ダッシュボードからJOB画面へ行きJOBの設定をします。
![Imgur](https://i.imgur.com/Z6flcPh.png)  
<br>
<br>
この様に「ソースコード管理」の部分でgitを選ぶだけで、簡単にgit連携ができます。  
入力されているのはgitのリポジトリURLです。  
![Imgur](https://i.imgur.com/Bc6o4Kn.png)  
<br>
<br>
次に「ビルド・トリガ」です。  
ビルドを行う周期を決めることができます。  
今回は1分毎にビルドされるような記述を施しています。  
書式はcron書式です。
![Imgur](https://i.imgur.com/WtbUO1Z.png)  
<br>
<br>
最後に「ビルド後の処理」にてJUnitテスト結果の集計を選び、事前に様にしておいたjunit.xmlを記述します。  
ただし、junit.xmlファイルを作成後はgitのリモートリポジトリのmasterに反映させる必要があります。  
そうすることでjenkins内のワークスペースに反映させることができます。
![Imgur](https://i.imgur.com/tbVtj0M.png)  
この設定がうまくいくと1分毎にテストプロジェクトのビルドをするとともに、その結果を集計してくれるはずです。  
早速JOB画面に戻りビルドをしていきます。  
<br>
<br>
JOB画面に戻るとテスト結果の推移が表示されています。  
ビルド実行をします。  
するとビルドの実行履歴が更新されます。  
が、黄色のマークなので「ビルド自体は成功しているが、テストが失敗している」ということになります。  
早速テスト詳細を確認し、修正をします。
![Imgur](https://i.imgur.com/sE2F0CF.png)  
<br>
<br>
、と思いましたが時間が来たのでここまでにします。
お疲れ様です。zzz